/* =========================================================
   FORMULARIO DE CONTRATACIÓN - CSS UNIFICADO / CORREGIDO
   Ajusta los tamaños cambiando el minmax() de .datos o
   usando las utilidades (.campo-full, .campo-2, .campo-3)
========================================================= */

/* ---------- CONTENEDOR GENERAL ---------- */
.contenedor {
  max-width: 1300px;
  margin: 0 auto;
  padding: 0 18px 90px;
  font-family: system-ui, Arial, sans-serif;
}

/* ---------- TITULO PRINCIPAL ---------- */
.titulo-form {
  margin: 32px 0 6px;
  font-size: clamp(1.9rem, 3.4vw, 2.3rem);
  font-weight: 600;
  letter-spacing: .5px;
  text-align: center;
  color: #111;
}

.debug-btn {
  margin: 8px 0 10px;
  padding: 6px 12px;
  border: 1px solid #555;
  background: #fff;
  cursor: pointer;
  font-size: 13px;
  border-radius: 6px;
}

.debug-btn:hover { background:#f2f2f2; }

/* ---------- PROGRESS BAR ---------- */
.form-progress {
  position: sticky;
  top: 0;
  z-index: 60;
  background: rgba(255,255,255,.9);
  backdrop-filter: blur(10px);
  padding: 14px 18px 12px;
  border-bottom: 1px solid #e3e6e9;
}

.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  flex-wrap: wrap;
  gap: 14px;
  margin-bottom: 6px;
}

.progress-info {
  display: flex;
  flex-direction: column;
  font-size: 13px;
  line-height: 1.15;
}

.progress-step { font-weight:600; color:#222; }
.progress-label { font-size:14px; font-weight:500; color:#111; }
.progress-percent { font-weight:600; font-size:14px; color:#2d6400; }

.progress-bar {
  height: 8px;
  width: 100%;
  background: #eceef1;
  border-radius: 6px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg,#8DD603,#FEBB2E);
  transition: width .55s cubic-bezier(.65,.05,.36,1);
}

.progress-dots {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.progress-dots .dot {
  width: 14px;
  height: 14px;
  background: #cfd4d1;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  transition: background .3s, transform .3s, box-shadow .3s;
}

.progress-dots .dot.active {
  background: #8DD603;
  box-shadow: 0 0 0 4px rgba(141,214,3,0.28);
  transform: scale(1.25);
}
.progress-dots .dot.completed {
  background: #8DD603;
  opacity: .55;
}
.progress-dots .dot:hover {
  background:#a2ec18;
}

/* ---------- SECCIONES ---------- */
.form-section {
  margin-top: 42px;
  padding: 42px 30px 48px;
  border: 1px solid #d9dee2;
  border-radius: 26px;
  background: #ffffff;
  scroll-margin-top: 140px;
  box-shadow: 0 4px 18px -10px rgba(0,0,0,.08);
  animation: fadeIn .55s ease;
}

@keyframes fadeIn {
  from { opacity:0; transform: translateY(14px); }
  to { opacity:1; transform: translateY(0); }
}

.form-section .title h2 {
  margin: -16px -16px 26px -16px;
  background: #8DD603;
  padding: 18px 28px 16px;
  border-radius: 14px 14px 0 0;
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
  font-weight: 600;
  letter-spacing: .4px;
  color: #17320e;
}

/* ---------- GRID DE CAMPOS ---------- */
/* Cambia 300px para hacer los campos más anchos o más angostos */
.datos {
  display: grid;
  gap: 20px 34px; /* row col */
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  align-items: start;
  width: 100%;
}

/* Utilidades de ancho */
.campo-full { grid-column: 1 / -1; }
.campo-2 { grid-column: span 2; }
.campo-3 { grid-column: span 3; }

/* ---------- FORM FIELDS / ANGULAR MATERIAL OVERRIDES ---------- */
:host ::ng-deep .mat-mdc-form-field {
  width: 100%;
  font-size: 15px;
  line-height: 1.25;
}

/* Wrapper */
:host ::ng-deep .mat-mdc-text-field-wrapper {
  background:#fff !important;
  border:1px solid #cfd6dc;
  border-radius:12px;
  min-height:56px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
  transition: border-color .25s, box-shadow .25s, background .25s;
}

:host ::ng-deep .mat-mdc-form-field:hover .mat-mdc-text-field-wrapper {
  border-color:#b9c2c9;
  background:#fdfdfd;
}

:host ::ng-deep .mat-mdc-form-field.mdc-text-field--focused .mat-mdc-text-field-wrapper {
  border-color:#8DD603 !important;
  box-shadow:0 0 0 2px rgba(141,214,3,.35);
}

/* Label multiline */
:host ::ng-deep .mdc-floating-label {
  white-space:normal !important;
  overflow:visible !important;
  text-overflow:unset !important;
  font-weight:500;
  color:#1e2c23;
  line-height:1.15;
  padding-right:6px;
}

:host ::ng-deep .mdc-floating-label--float-above {
  transform:translateY(-8px) scale(.84);
  font-weight:600;
  color:#1c3114 !important;
}

/* Input / Select value */
:host ::ng-deep .mat-mdc-input-element,
:host ::ng-deep .mat-mdc-select-value {
  font-size:15px !important;
  font-weight:500;
  color:#111;
  line-height:1.32;
  white-space:normal !important;
}

:host ::ng-deep .mat-mdc-input-element::placeholder {
  color:#6e7478;
  opacity:1;
  font-weight:400;
}

/* Padding interno */
:host ::ng-deep .mdc-text-field--filled .mdc-text-field__input {
  padding:16px 16px 10px 16px !important;
}

/* Select trigger */
:host ::ng-deep .mat-mdc-select-trigger {
  padding:6px 14px 4px 14px;
  min-height:46px;
}

/* Estados inválidos */
:host ::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mat-mdc-text-field-wrapper {
  border-color:#d93025 !important;
  box-shadow:0 0 0 2px rgba(217,48,37,.25);
}
:host ::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-floating-label {
  color:#d93025 !important;
}

/* Campo alto adicional (usa clase alto-lg en mat-form-field si lo deseas) */
mat-form-field.alto-lg ::ng-deep .mat-mdc-text-field-wrapper {
  min-height: 70px;
}
mat-form-field.compacto ::ng-deep .mat-mdc-text-field-wrapper {
  min-height: 46px;
}
mat-form-field.compacto ::ng-deep .mdc-text-field--filled .mdc-text-field__input {
  padding:10px 12px 6px 12px !important;
  font-size:14px !important;
}

/* ---------- HIJOS REPEATED ---------- */
.repetidor-hijos {
  grid-column: 1 / -1;
  display: grid;
  gap: 26px;
}
.hijo-card {
  border:1px solid #d9dedf;
  border-radius:20px;
  padding:18px 18px 10px;
  background:#f8faf9;
  display:grid;
  gap:18px 26px;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
}
.hijo-card h3 {
  margin:0 0 4px;
  grid-column:1 / -1;
  font-size:15px;
  font-weight:600;
  color:#2b4128;
}

/* ---------- CHECKBOX GROUPS ---------- */
.example-section {
  grid-column:1 / -1;
  background:#f2f7ef;
  border:1px solid #d9e4d3;
  border-radius:18px;
  padding:16px 18px 12px;
}
.example-section h3 {
  margin:0 0 12px;
  font-size:14px;
  font-weight:600;
  color:#263c21;
}
.opcion-checkbox {
  display:inline-flex;
  margin:4px 14px 6px 0;
}

/* ---------- ARCHIVOS ---------- */
.file {
  display:flex;
  flex-direction:column;
  gap:10px;
}
.input-file { display:none; }

.boton,
.boton2 {
  border:2px dashed #b7c3b4;
  background:#f6faf3;
  color:#2c4023;
  padding:14px 18px;
  font-size:14px;
  font-weight:500;
  border-radius:16px;
  cursor:pointer;
  transition:.3s;
  text-align:center;
}
.boton:hover,
.boton2:hover {
  background:#ffffff;
  border-color:#8DD603;
}

.preview-img {
  max-width:210px;
  border:1px solid #d8dfd7;
  border-radius:14px;
  overflow:hidden;
  background:#fff;
  box-shadow:0 8px 22px -14px rgba(0,0,0,.22);
}
.preview-img img {
  width:100%;
  display:block;
}

/* ---------- FOOTER SECCIÓN ---------- */
.section-footer {
  margin-top:40px;
  display:flex;
  justify-content:flex-end;
  gap:16px;
  flex-wrap:wrap;
}
.section-footer.final {
  justify-content:space-between;
  align-items:center;
}

/* ---------- BOTONES NAVEGACIÓN ---------- */
.next-arrow,
.prev-inline,
.prev-arrow {
  --color1:#8DD603;
  display:inline-flex;
  align-items:center;
  gap:10px;
  background:#fff;
  border:2px solid var(--color1);
  color:#254303;
  padding:14px 24px;
  font-size:15px;
  font-weight:600;
  border-radius:40px;
  cursor:pointer;
  transition:.35s;
}
.prev-inline { background:#f5f9f2; }

.next-arrow:hover,
.prev-inline:hover,
.prev-arrow:hover {
  background:linear-gradient(90deg,#8DD603,#FEBB2E);
  color:#111;
  box-shadow:0 10px 24px -12px rgba(0,0,0,.35);
}
.next-arrow:disabled {
  opacity:.45;
  cursor:not-allowed;
  background:#eef0f2;
  border-color:#ccd2d6;
  color:#7d8185;
  box-shadow:none;
}

.submit-btn {
  background:linear-gradient(90deg,#8DD603,#FEBB2E);
  color:#111;
  border:none;
  padding:16px 44px;
  font-weight:600;
  font-size:16px;
  border-radius:54px;
  cursor:pointer;
  box-shadow:0 12px 30px -12px rgba(0,0,0,.4);
  transition:.35s;
}
.submit-btn:hover {
  transform:translateY(-4px);
  box-shadow:0 18px 40px -16px rgba(0,0,0,.5);
}
.submit-btn:disabled {
  background:#d4d7da;
  color:#6a6d70;
  cursor:not-allowed;
  box-shadow:none;
}

/* ---------- MENSAJE SIMPLE ---------- */
.mensaje-simple {
  font-size:14px;
  font-style:italic;
  color:#666;
}

/* ---------- RESPONSIVE ---------- */
@media (max-width: 900px) {
  .datos {
    grid-template-columns: repeat(auto-fill,minmax(250px,1fr));
    gap:18px 26px;
  }
  .form-section {
    padding:40px 24px 44px;
  }
}

@media (max-width: 640px) {
  .datos {
    grid-template-columns:1fr;
  }
  .campo-2, .campo-3 { grid-column:1/-1; }
  .form-section { padding:36px 18px 40px; border-radius:22px; }
  .section-footer { flex-direction:column; }
  .next-arrow, .prev-inline, .prev-arrow, .submit-btn {
    width:100%;
    justify-content:center;
  }
  .progress-dots .dot { width:12px; height:12px; }
}

/* ---------- ACCESIBILIDAD FOCUS GLOBAL ---------- */
:host ::ng-deep .mat-mdc-form-field .mdc-text-field:focus-within .mat-mdc-text-field-wrapper {
  outline:none;
}

/* ---------- UTILIDADES DE ALTURA OPCIONALES ---------- */
.alto-lg :host ::ng-deep .mat-mdc-text-field-wrapper { min-height:70px; }
.compacto :host ::ng-deep .mat-mdc-text-field-wrapper { min-height:46px; }
